%%
%% Capítulo 1: Modelo de Capítulo
%%

% Está sendo usando o comando \mychapter, que foi definido no arquivo
% comandos.tex. Este comando \mychapter é essencialmente o mesmo que o
% comando \chapter, com a diferença que acrescenta um \thispagestyle{empty}
% após o \chapter. Isto é necessário para corrigir um erro de LaTeX, que
% coloca um número de página no rodapé de todas as páginas iniciais dos
% capítulos, mesmo quando o estilo de numeração escolhido é outro.
\mychapter{Introdução}
\label{Cap:introducao}

Este documento é um modelo para o trabalho final da disciplina de Computação Gráafica do Curso de Engenharia de Computação da Universidade Federal do Rio Grande do Norte (UFRN).  Procure ler o
texto acompanhando o resultado produzido a partir do código fonte que o gerou.

Neste capítulo introdutório apresentaremos algumas idéias gerais sobre
como compilar documentos utilizando o processador de textos \LaTeX.

\section{Processando textos com \LaTeX}

O \LaTeX\ não é um editor de texto no sentido convencional. Ele funciona
muito mais como um ``compilador'' de uma linguagem de programação de
textos:%
\nomenclature{\LaTeX:}{um poderoso processador de textos}%
\begin{enumerate}
\item Inicialmente você escreve um ``programa'' nesta linguagem de
programação de textos (linguagem \LaTeX), dizendo o conteúdo e a
formatação do seu documento.  Para escrever este ``programa'' pode-se
usar qualquer editor de textos capaz de salvar documentos em formato
texto ASCII puro.
\item O próximo passo é compilar este código fonte, produzindo um arquivo
\texttt{.dvi} que funciona como um ``programa objeto''. Esta compilação
é feita pelo programa \texttt{latex}.
\item Em seguida o arquivo \texttt{.dvi} é convertido para o formato no
qual se deseja produzir o texto: PostScript (usando o programa
\texttt{dvips}), PDF (usando o \texttt{pdflatex}, que já faz esta fase
e a fase anterior) ou visualização na tela (\texttt{xdvi}).
\end{enumerate}
Estas explicações tomaram como base a versão do \LaTeX\ mais comum para
sistemas operacionais Unix. Existem outras implementações tanto para
Unix quanto para Windows, onde os comandos executados são diferentes
mas a idéia geral é sempre a mesma.

Além do \texttt{latex} para compilar o texto, pode ser necessário
executar outros programas, como o \texttt{bibtex} para incluir
automaticamente as referências bibliográficas ou o \texttt{makeindex}
para gerar o glossário. Estes programas devem ser chamados em uma
ordem específica. Para automatizar este processo, é fornecido um
arquivo \texttt{Makefile}, de modo que a compilação completa pode
ser feita utilizando um dos seguintes comandos:%
\nomenclature{\BibTeX:}{uma ferramenta para geração automática de
listas de referências bibliográficas}%
\begin{description}
\item[{\tt make}:] executa a tarefa \emph{par default}, que pode ser
alterada no \texttt{Makefile} para apontar para qualquer uma das seguintes.
\item[{\tt make simples}:] apenas executa o \texttt{latex} uma vez;
\item[{\tt make principal.dvi}:] executa todos os passos e aplicativos
necessários para produzir o arquivo \texttt{.dvi} completo;
\item[{\tt make principal.ps}:] executa todos os passos e aplicativos
necessários para produzir o arquivo PostScript \texttt{principal.ps}
completo;
\item[{\tt make principal.pdf}:] executa todos os passos e aplicativos
necessários para produzir o arquivo PDF \texttt{principal.pdf} completo;
\item[{\tt make clean}:] remove todos os arquivos intermediários gerados
no processo de compilação, inclusive o \texttt{principal.dvi}.
\item[{\tt make realclean}:] além de fazer um \texttt{make clean}, remove
os arquivos \texttt{principal.ps} e \texttt{principal.pdf}.
\end{description}

\section{Organização do texto}

O fecho do capítulo introdutório muitas vezes apresenta uma idéia
global do trabalho, mostrando o que vai ser tratado nos capítulos
subseqüentes\footnote{Contrariando o que muitos acreditam, o trema
ainda não foi abolido do português oficial do Brasil, o que já
aconteceu em Portugal; portanto, deve ser usado em palavras como
seqüência, freqüência e aqüífero.}.

Neste documento, o capítulo~\ref{Cap:estilo} apresenta as diretrizes
gerais sobre a formatação dos textos. O capítulo~\ref{Cap:matematica}
apresenta alguns recursos dp \LaTeX\ para escrever expressões
matemáticas, enquanto o capítulo~\ref{Cap:figuras} trata da inclusão
de tabelas, gráficos e figuras no documento. O
capítulo~\ref{Cap:conclusao}, que faz as vezes de capitulo de
conclusões e perspectivas, mostra alguns exemplos de construção
automática de bibliografias utilizando o aplicativo \BibTeX\ e
menciona fontes adicionais para mais informações.


\section{Dimensões}
\label{Sec:estilo}

A partir desta seção, apresenta considerações de ordem geral sobre a
organização que deve ser adotada no seu documento, tais como número de
páginas, margens e subdivisões.

Não há um número mínimo ou máximo de páginas para propostas de tema,
dissertações ou teses. Entretanto, se o seu documento for muito menor
do que a média pode transmitir uma idéia de falta de conteúdo a
apresentar. Por outro lado, um documento muito grande corre o risco de
só conseguir a atenção total do leitor no seu início, fazendo com que
as partes mais importantes, que geralmente estão no final do
documento, não sejam devidamente consideradas. Apenas para servir como
parâmetro, estão indicados a seguir os limites usuais quanto ao número
de páginas\footnote{Uma folha corresponde a uma página em impressão em
face simples e a duas páginas em impressão em face dupla} dos
documentos do PPgEE da UFRN, adotando as margens e os espaçamentos
definidos neste modelo:
\begin{itemize}
\item Proposta de tema para exame de qualificação de mestrado:
entre 20 e 40 páginas
\item Proposta de tema para exame de qualificação de doutorado:
entre 30 e 50 páginas
\item Dissertação de mestrado:
entre 50 e 100 páginas
\item Tese de doutorado:
entre 80 e 150 páginas
\end{itemize}

O tamanho padrão para a fonte é de 12pt.  Para facilitar a escrita de
comentários, sugestões e correções da banca, recomenda-se o espaçamento
1.5 entre as linhas do texto e a impressão em um único lado da folhas
para os seguintes documentos:
\begin{itemize}
\item Proposta de tema para exame de qualificação;
\item Versão inicial de dissertação de mestrado; e
\item Versão inicial de tese de doutorado.
\end{itemize}
Para as versões finais de teses e dissertações, onde se busca uma
melhor qualidade visual e tipográfica do texto, deve-se utilizar
espaçamento simples entre as linhas e a impressão nos dois lados da
página.

As margens devem seguir os valores adotados neste documento, que podem
ser verificados no arquivo \texttt{principal.tex}. É importante notar
que, na versão final de teses ou dissertações, recomenda-se a
impressão nos dois lados da página. Por esta razão, a margem direita
em páginas pares deve ter o mesmo valor que a margem esquerda em
páginas impares e vice-versa, para que a encadernação fique
correta. Também em razão da impressão em frente e verso, os capítulos
devem sempre começar em uma página de número ímpar, com a eventual
inclusão de uma página em branco. O \LaTeX\ se encarrega de fazer
automaticamente estes ajustes.

\section{Divisões do documento e referências cruzadas}
\label{Sec:divisoes}

Documentos do porte de uma tese ou dissertação devem ser subdivididos
em capítulos. O capítulo deve conter uma introdução e um fecho.

A introdução do capítulo fornece ao leitor uma breve descrição do que
será tratado no capítulo e não forma uma seção: para exemplificar, a
introdução deste capítulo é o parágrafo que precede a primeira seção.

O fecho do capítulo apresenta comentários finais sobre o que foi
desenvolvido no capítulo e/ou faz uma ligação com o que será visto no
capítulo seguinte; normalmente é colocado em uma seção específica,
denominada ``Comentários Finais'', ``Conclusões'', ``Resultados'',
``Avaliação Final'' ou qualquer outra denominação que se adeque ao
texto.

Capítulos são divididos em seções. O número ideal de seções é
impossível de se precisar. Entretanto, um capítulo com uma única seção
provavelmente deve ser agregado ao capítulo anterior ou posterior. Um
capítulo com quinze seções provavelmente deve ser subdividido em dois
capítulos.

Capítulos, seções e subseções devem ser rotulados para que possam ser
referenciados em qualquer parte do texto.  Isto é feito com o comando
\verb|\label{}|, que deve ser colocado logo após (nunca antes) o
comando que criou a seção, capítulo, etc. O parâmetro do comando
\texttt{label} é o nome simbólico que será usado para se fazer
referência a esta entidade dentro do texto, com o comando
\verb|\ref{}|. O nome pode ser qualquer coisa, mas não pode conter
acentos, por exemplo. Neste documento nós utilizamos a convenção de
prefixar os rótulos dos capítulos com \texttt{Cap:}, das seções com
\texttt{Sec:}, das equações com \texttt{Eq:} e assim por diante, mas
esta convenção não é obrigatória. Veja a seguir um exemplo de
utilização das referências cruzadas:
% quotation é um ambiente para citações, que ficam "recuadas" em
% relação ao resto do texto
\begin{quotation}
\dots no capítulo~\ref{Cap:introducao} apresentamos um modelo de
capítulo de tese.
\end{quotation}
Note que, no código fonte deste trecho de frase, o espaço entre a palavra
\texttt{capítulo} e o comando \verb|\ref{}| foi escrito com
um \texttt{\~{}} e não com um espaço normal. O \texttt{\~{}} é o
comando \LaTeX\ para criar um espaço onde não se pode mudar de linha,
pois ficaria estranho se o texto ``no capítulo'' estivesse no fim de
uma linha e o número \ref{Cap:introducao} no início da outra linha.

Existe uma particularidade no código fonte do parágrafo anterior. Para
se escrever:
\begin{quotation}
\dots o comando \LaTeX\ para criar\dots
\end{quotation}
se colocou depois do comando \verb|\LaTeX| um espaço
precedido de uma contrabarra, ao invés de um espaço normal. Isto porque
espaços depois de comandos são ignorados pelo \LaTeX; com um espaço
% Na linha anterior não houve necessidade do espaço com contrabarra
% depois do comando \LaTeX, pois ele é seguido por um ; e não um espaço
normal as palavras ficariam ligadas:
\begin{quotation}
\dots o comando \LaTeX para criar\dots
\end{quotation}
Ao invés do espaço precedido pela contrabarra, poder-se-ia também
utilizar um \texttt{\~{}}. A diferença é que neste caso o \LaTeX\ não
poderia fazer uma quebra de linha entre as palavras.

\section{Seções}
\label{Sec:secoes}  %% labels não devem conter caracteres acentuados

Seções são divisões do conteúdo do capítulo. Esta divisão
deve ser lógica (temática) e não física (por tamanho).
Por exemplo, um capítulo que trata de \textit{software}
de sistema teria seções que tratam de montadores, ligadores,
carregadores, compiladores e sistemas operacionais.

Tal como capítulos, seções devem ser rotuladas para referência
em outras partes do texto. Seções são divididas em subseções.

\subsection{Subseções}
\label{Sec:subsecoes}

Subseções são divisões de seções. No exemplo do texto sobre
\textit{software} de sistema, a seção referente a sistema operacional
conteria, por exemplo, subseções que tratam de arquivos, processos,
memória e entrada/saída.  Tal como seções, subseções são divisões
temáticas do texto.

\subsubsection*{Subsubseções}
\label{Sec:subsubsecoes}

Subsubseções são divisões de subseções e não devem ser numeradas no
texto. O \texttt{*} após o comando \texttt{subsubsection*} instrui
o \LaTeX\ a não numerar a subsubseção. Esta mesma regra se aplica
a outros comandos. Por exemplo, \verb|\chapter{}|
inicia um capítulo, enquanto \verb|\chapter*{}|
inicia um capítulo sem número. O comando \texttt{chapter*} foi
usado no arquivo \texttt{resumos.tex} para criar os capítulos não
numerados referentes ao resumo e ao \textit{abstract}.

\section{Índices}

O \LaTeX\ é capaz de gerar automaticamente o índice do texto
(sumário), os índices de figuras e de tabelas e uma lista de símbolos
ou glossário.

\subsection{Sumário}
\label{Sec:sumario}

Todas as divisões numeradas (capítulos, seções e subseções) são
automaticamente incluídas no sumário. Ao se criar uma nova divisão é
necessário compilar duas vezes o texto com o \LaTeX: na primeira
compilação será percebida a inclusão da nova divisão, enquanto na
segunda será gerado o índice atualizado. Esta mesma necessidade de uma
dupla compilação aparece quando se acrescenta qualquer nova referência
cruzada: uma nova figura ou tabela, uma nova referência bibliográfica,
etc.

Além das divisões que são incluídas automaticamente no sumário, pode-se
incluir manualmente outras informações. Os índices, por exemplo, não
são incluídos automaticamente no sumário. Verifique no arquivo
\texttt{principal.tex} o que deve ser feito para fazer esta inclusão.

\subsection{Listas de figuras e tabelas}
\label{Sec:listasfigtab}

Estas listas são geradas automaticamente a partir dos
\texttt{caption}'s de todos os ambientes \texttt{figure} e
\texttt{table}. Maiores detalhes sobre estes ambientes serão apresentados
no capítulo~\ref{Cap:figuras}.

\subsection{Lista de símbolos (glossário)}
\label{Sec:glossario}

Este ambiente pode ser utilizado para produzir uma lista de símbolos,
um glossário ou uma lista de abreviaturas. Ao utilizar pela primeira
vez uma entidade que precise de definição, o autor, ao final do
parágrafo, gera a entrada para o glossário. A título de exemplo,
foram incluídos na lista alguns símbolos e abreviaturas que aparecem
no texto a seguir:

\begin{quotation}
As primeiras teses apresentadas no PPgEE da UFRN eram datilografadas
manualmente. Para escrever uma fórmula simples como:%
\nomenclature[aa]{UFRN:}{Universidade Federal do Rio Grande do Norte}%
\nomenclature[az]{PPgEE:}{Programa de Pós-Graduação em Engenharia Elétrica}%
\begin{equation}
\omega = \omega_0 + \alpha \cdot \Delta t
\label{Eq:glossario}
\end{equation}%
% Há problemas quando se põe uma quebra de linha em um comando \nomenclature.
% Para evitá-lo, comenta-se com um % todos os fins de linha das linhas que
% contêm o comando e da linha imediatamente anterior.
\nomenclature{$\omega$}{velocidade angular do corpo}%
\nomenclature{$\omega_0$}{velocidade angular inicial do corpo}%
\nomenclature{$\alpha$}{aceleração angular do corpo}%
\nomenclature{$\Delta t$}{tempo decorrido desde o instante em que foi medida
a velocidade inicial até o instante presente}%
os autores tinham que desenhar os símbolos manualmente ou, para os
mais afortunados, trocar inúmeras vezes a esfera da sua máquina de
datilografia.
\end{quotation}

A ordem de aparição dos verbetes no glossário é a seguinte:
inicialmente os símbolos, depois os números e por último as
\textit{strings}. Você pode modificar esta ordem incluindo um
parâmetro adicional no comando
\verb|\nomenclature[opcional]{simb}{signif}|. No exemplo, este
parâmetro foi utilizado para colocar UFRN antes de PPgEE.

\section{Bibliografia}
\label{Sec:citacoes}

As referências bibliográficas são incluídas dentro de um ambiente
específico para este fim, através dos comandos
\verb|\begin{thebibliography}| e \verb|\end{thebibliography}|. Um
documento só pode conter um único destes ambientes. A referência aos
documentos no texto é feita usando-se referências cruzadas e chaves
simbólicas, da mesma forma que as equações e as figuras. Cada
documento dentro de um ambiente \texttt{thebibliography} é introduzido
por um comando \verb|\bibitem|. O argumento obrigatório (entre chaves)
do comando \texttt{bibitem} é a chave simbólica pela qual o documento
será citado no texto, usando o comando \verb|\cite|.  O argumento
opcional (entre colchetes) do comando \texttt{bibitem} é a expressão
que será inserida tanto no texto, no local onde a referência foi
citada, quanto na lista de referências bibliográficas, como etiqueta
do documento em questão.

O ambiente \texttt{thebibliography} pode ser digitado diretamente pelo
usuário ou gerado automaticamente a partir de um arquivo de
informações bibliográficas. A digitação manual tem a vantagem de
tornar o documento autocontido, enquanto a geração automática permite
um melhor reaproveitamento das informações e uma maior uniformidade
das referências nos diversos documentos. Sempre que possível,
aconselha-se a geração automática, que é feita pelo aplicativo
\BibTeX.

A principal vantagem da geração automática de bibliografias é que se
pode manter um arquivo único com todas as referências bibliográficas
que foram ou podem vir a ser usadas em algum dos seus documentos
(artigos, tese, etc.).  O \BibTeX\ se encarrega de verificar quais
delas foram efetivamente citadas no documento sendo processado e gerar
um ambiente \texttt{thebibliography} que contém apenas os documentos
necessários.

As informações bibliográficas devem ser salvas em um arquivo no
formato \BibTeX\ e com extensão \texttt{.bib}. O formato \BibTeX\ 
permite referenciar diferentes tipos de documentos:
\begin{itemize}
\item artigos em revistas~\cite{art-solimaes03};
\item artigos em anais de simpósios~\cite{proc-gates01};
\item artigos em coletâneas de artigos~\cite{col-pinto00};
\item capítulos de livros~\cite{inbook-santos00};
\item anais de simpósios~\cite{proc-sbrc02};
\item livros~\cite{book-lamport94};
\item teses de doutorado~\cite{phd-gates01};
\item teses de mestrado~\cite{msc-santos03};
\item relatórios técnicos~\cite{rep-omg2000};
\item manuais técnicos~\cite{man-orbix99};
\item trabalhos não publicados~\cite{unp-sichman02};
\item páginas na Internet~\cite{hp-novet03} (a data é o dia do
      último acesso à página);
\item miscelânea~\cite{misc-cruz03}.
\end{itemize}

O arquivo \BibTeX\ não contém nenhuma informação de formatação. Esta
formatação é definida através do comando \verb|\bibliographystyle|.
Este modelo inclui um arquivo de estilo (\texttt{ppgee.bst}) que gera
as referências no padrão adotado para os documentos do PPgEE. Este
estilo é baseado no padrão \texttt{jmr} do pacote \texttt{harvard}, com
as modificações necessárias para a língua portuguesa. Para maiores
informações, veja a documentação do pacote \texttt{harvard}, disponível
na Internet ou na maiorias das instalações \LaTeX.

A lista de referências bibliográficas é gerada pelo comando
\verb|\bibliography|, cujo parâmetro obrigatório é o nome do(s) arquivo(s)
que contém(êm) as informações bibliográficas.  O \BibTeX\ se encarrega
de extrair deste(s) arquivo(s) as referências citadas, formatá-las de acordo
com o estilo escolhido e gerar o ambiente \texttt{thebibliography}
correspondente. Este ambiente é salvo em um arquivo com terminação
\texttt{.bbl}, que é automaticamente inserido no documento no local do
comando \verb|\bibliography|. Este procedimento pode ser melhor
compreendido analisando-se os arquivos \texttt{principal.tex} e
\texttt{bibliografia.bib}, além do arquivo \texttt{principal.bbl}
gerado automaticamente pelo \BibTeX.

Uma recomendação importante é que as citações não fazem parte do
texto; portanto, as frases devem fazer sentido mesmo que as expressões
de citação sejam removidas. Para exemplificar, não se deve usar:
\begin{quotation}
\dots conforme demonstrado por \cite{art-solimaes03}.
\end{quotation}
e sim:
\begin{quotation}
\dots conforme demonstrado por \citeasnoun{art-solimaes03}.

\dots conforme demonstrado na literatura
\citeaffixed{art-solimaes03}{e.g. }.\footnote{A abreviatura e.g.
significa por exemplo. Vem do latim \emph{exempli gratia}. Também se
usa, para o mesmo caso, v.g. (\emph{verbi gratia}) ou simplesmente
p.ex.}
\end{quotation}

\section{Considerações finais}

Os simples fatos de utilizar corretamente uma boa ferramenta de
formatação de textos e de seguir as recomendações quanto ao estilo
não garantem a qualidade do documento produzido. O principal
aspecto a ser levado em conta é a qualidade da redação.

Propostas de tema, dissertações e teses devem ser escritas em
linguagem técnica, que difere em alguns aspectos da linguagem
literária.  Em textos das ciências exatas e tecnológicas, o objetivo
principal é a clareza e a correção, algumas vezes com um certo
prejuízo da estética literária. Algumas recomendações quanto à
redação são as seguintes:
\begin{itemize}
\item Evite períodos longos, reduzindo o número de apostos, orações
subordinadas, pronomes relativos (o qual, que, cujo, o mesmo, do qual,
etc.) e inversões na ordem normal de aparecimento dos elementos da
frase (sujeito, verbo, predicado). Divida períodos longos em várias
frases menores, mesmo que seja necessário repetir alguns termos. Por
exemplo:
\begin{quotation}
\emph{Esta versão foi concebida por ocasião da disciplina de Sistemas
de Transmissão de Dados, que tinha como principal objetivo, fazer uso
de uma plataforma móvel onde pudesse ser aplicada uma técnica de
transmissão de dados, possibilitando dessa forma o controle desta.}
\end{quotation}
pode ser substituído por:
\begin{quotation}
\emph{Esta versão foi concebida durante a disciplina de Sistemas de
Transmissão de Dados. O principal objetivo desta primeira versão
era aplicar uma técnica de transmissão de dados a uma plataforma
móvel. O uso da técnica de transmissão de dados tornou possível
o controle da plataforma móvel.}
\end{quotation}
\item Verifique a pontuação empregada para não separar por vírgulas
o sujeito do verbo, como no exemplo anterior em ``\dots\emph{tinha
como principal objetivo, fazer uso de}\dots'', nem trocar pontos por
vírgulas ou vice-versa. Estes erros geralmente aparecem associados a
períodos muito longos, como nos dois exemplos a seguir:
\begin{quotation}
\emph{Quando a operação é realizada sem o sistema de recepção, o
veículo se desloca e realiza tarefas, baseadas na programação do
dispositivo microcontrolador e leitura de sensores, como a odometria,
por exemplo, a tabela abaixo lista a função atribuída a cada pino.}
\end{quotation}
\begin{quotation}
\emph{A garra é dotada também de um conjunto de sensores mecânicos
de fim de curso tipo contato seco normalmente aberto (NA), nas
posições de máxima elevação e abertura, bem como dois sensores desse
mesmo tipo nas pinças da garra que respondem a uma pequena pressão em
sua superfície, sendo responsáveis por pressionar o elemento objeto
que se deseja recolher. Evitando que o mesmo escorregue quando
erguido.}
\end{quotation}
\item Evite o uso de adjetivos que expressam julgamentos de valor de
maneira não quantificável. Por exemplo, ao invés de dizer que os
resultados foram excelentes, diga que em 98\% dos experimentos o erro
foi menor que 1\%, deixando ao leitor a tarefa de concluir se estes
resultados são excelentes ou não.
\end{itemize}

No que diz respeito aos recursos de formatação, lembre-se que o
\LaTeX\ já faz a maior parte do trabalho para você, seguindo padrões
que foram definidos por especialistas para garantir uma boa qualidade
tipográfica. Portanto, tente não modificar ``manualmente'' a
formatação gerada. Para isto, evite sempre que possível os seguintes
recursos, pois um texto ``limpo'' é mais agradável de ler que um texto
``enfeitado'':
\begin{itemize}
\item letras maiúsculas em palavras onde elas não têm justificativa
gramatical: nomes de meses (janeiro e não Janeiro), apenas para dar
ênfase (\dots foi desenvolvido um Robô Móvel com rodas\dots), etc.
\item \textbf{o uso indiscriminado de negrito;}
\item \textit{o uso de itálico, exceto em palavras em outra língua
ou em definições de termos que aparecem pela primeira vez;}
\item texto em fontes diferentes: \texttt{espaçamento uniforme}, \textsf{sem
serifa}, \textsc{caixa alta}, etc.
\item \underline{o uso de texto sublinhado;}
\item o uso excessivo de notas de rodapé\footnote{Notas de rodapé
são estas expressões no pé da página.}.
\item palavras em língua estrangeira quando existe uma equivalente
em português (desempenho e não \textit{performance}) ou neologismos
não justificados (downloadar, randômico, etc.)
\end{itemize}


\section{Expressões matemáticas}
\label{Cap:matematica}

\LaTeX~é insuperável no processamento de expressões matemáticas. Expressões
simples como $2^{n}$ podem ser editadas no próprio texto. Equações
complexas como:
% eqnarray é o comando LaTeX de base para expressões multilinhas com
% alinhamento. O & indica o ponto onde todas as linhas devem ser
% alinhadas. Neste capítulo serão apresentadas outras opções de alinhamento
\begin{eqnarray} \label{eq:PDF:RSR}
  p \left( \gamma \right) & = & \frac{1}{2} \sqrt{\frac{M}{\gamma \bar{\gamma}_{b}}} \frac{1}{ \prod_{i=1}^M {\sqrt{\tilde{\gamma}_i}}}
  \int_0^{\sqrt{M \delta}} \int_0^{\sqrt{M \delta} - r_M } \cdots
  \int_0^{\sqrt{M \delta} - \sum_{i = 3}^M {r_i } } \nonumber \\
  & & p \left( {\frac{\sqrt{M \delta} - \sum_{i = 2}^M {r_i }}{\sqrt{\tilde{\gamma}_1}} ,
  \frac{r_2}{\sqrt{\tilde{\gamma}_2}} , \ldots ,\frac{r_M}{\sqrt{\tilde{\gamma}_M}} } \right)
  \, dr_2 \cdots dr_{M-1} \, dr_M
\end{eqnarray}
% sem linha em branco
ou:
% sem linha em branco
\begin{equation} \label{eq:TrCGI}
  T(r) = \frac{1}{f_m}
  \left( \frac{\pi}{2} \sum_{i=1}^M
  {\tilde{r}_i^2 \dot{\varsigma}_i^2}\right)^{-1/2}
  \frac
  {\begin{array}{ll}
  \int_0^{\rho \sqrt{M}} \int_0^{\rho \sqrt{M} - r_M } \cdots
  \int_0^{\rho \sqrt{M} - \sum_{i = 3}^M {r_i } } \int_0^{\rho \sqrt{M} -
  \sum_{i = 2}^M {r_i } }  \\
  p \left( {\frac{r_1}{\tilde{r}_1} ,
  \frac{r_2}{\tilde{r}_2} , \ldots ,\frac{r_M}{\tilde{r}_M} } \right)
  \, dr_1 \, dr_2 \cdots dr_{M-1} \, dr_M \\ \end{array}}
  {\begin{array}{ll}
  \int_0^{\rho \sqrt{M}} \int_0^{\rho \sqrt{M} - r_M } \cdots
  \int_0^{\rho \sqrt{M} - \sum_{i = 3}^M {r_i } } \\
  p \left( {\frac{\rho \sqrt{M} - \sum_{i = 2}^M {r_i }}{\tilde{r}_1} ,
  \frac{r_2}{\tilde{r}_2} , \ldots ,\frac{r_M}{\tilde{r}_M} } \right)
  \, dr_2 \cdots dr_{M-1} \, dr_M \\ \end{array}}
\end{equation}

% ops, aqui eu deixei uma linha em branco de propósito
são automaticamente numeradas e podem ser referenciadas a partir do
texto. Por exemplo, a equação~\ref{eq:TrCGI} é trivialmente derivada
da equação~\ref{eq:PDF:RSR}.

No parágrafo anterior foi intencionalmente introduzido um erro. Note
que o trecho de frase ``são automaticamente numeradas\dots'' tem uma
indentação, ou seja, um espaço inicial de tabulação, como se fosse a
primeira frase de um novo parágrafo. Na realidade, todo o texto
anterior constitui um único parágrafo, no meio do qual se inserem as
duas equações. Por esta razão, os trechos de frase após as equações
não devem se iniciar com letra maiúscula nem ser indentados. É
importante lembrar que nestas situações em que frases são
interrompidas por equações é obrigatória a inclusão de dois pontos no
fim dos trechos da frase, como em ``\dots Equações complexas como:'' e
em ``ou:''.

O que gerou este erro de indentação? Lembre-se que em \LaTeX\ uma
linha em branco no código fonte indica a separação entre dois
parágrafos. A causa do problema é a linha em branco entre o
\verb|\end{equation}| e o \texttt{são automaticamente
numeradas}\dots~. Como regra geral, enquanto um parágrafo não for
encerrado, não podem ser incluídas linhas em branco, mesmo que no meio
do parágrafo existam equações, figuras, notas de rodapé, etc.

Pequenas expressões matemáticas como $x_0^2$ podem ser inseridas
diretamente no texto, delimitadas por cifrões (\texttt{\$}). Deve-se
evitar este recurso com expressões muito grandes, como
% array é o ambiente para fazer coisas como matrizes. É muito similar
% ao tabular, que será explicado no próximo capítulo, com a diferença
% que os elementos do array são expressões matemáticas.
% Para fazer uma matriz , lembre-se que o array não inclui os
% delimitadores. No caso, nós pusemos o array dentro de delimitadores
% \left[ e right]. Estes delimitadores desenham um colchete do tamanho
% necessário para incluir a coisa delimitada
$\left[\begin{array}{cc} 1 & \frac{2}{x+1} \\ -2 &
1\end{array}\right]^{-1}$, porque o espaçamento entre as linhas fica
prejudicado. Para incluir expressões não numeradas maiores, pode-se
utilizar o par de delimitadores \verb|\[| e \verb|\]|, o que gera
expressões centralizadas na página:
\[
% Nesta expressão nós trocamos o delimitador das matrizes, passando
% a usar parênteses
\left(\begin{array}{cc}
1 & \frac{2}{x+1} \\ -2 & 1
\end{array}\right)^{-1} = \left(\begin{array}{cc}
\frac{x+1}{x+5} & -\frac{2}{x+5} \\ \frac{2(x+1)}{x+5} & \frac{x+1}{x+5}
\end{array}\right) \quad
% quad é uma das formas de incluir espaço em expressões matemáticas,
% pois os espaços são ignorados. quad deve ser usado com moderação,
% pois na maioria dos casos a formatação do LaTeX é a mais adequada.
% Muitos usos de quad podem ser substituídos por ambientes de alinhamento,
% explicados a seguir
\text{se} \quad x \neq -1 \quad \text{e} \quad x \neq -5
\]

Um erro comum em expressões matemáticas é o de digitar os nomes de
funções diretamente, sem utilizar os comandos apropriados. Por
exemplo, a expressão $\sin(\omega t+\phi)$ está correta, enquanto que
a expressão $sin(\omega t+\phi)$ é interpretada pelo \LaTeX como sendo
o produto das variáveis $s$, $i$ e $n$ pela expressão entre
parênteses. Para as funções usuais já existem comandos predefinidos,
como \verb|\sin|. Para suas próprias funções, utilize o comando
\verb|\operatorname{}|, diretamente ou definindo um novo comando:
% newcommand define novos comandos, que podem passar a ser usados da
% mesma forma que os comandos LaTeX de base.
\newcommand{\fat}{\operatorname{fatorial}}
\[
\fat(x) = x \cdot \fat(x-1)
\]

O \LaTeX\ possui uma sintaxe específica para índices (sub-escritos) e
expoentes (super-escritos) posicionados do lado direito do objeto a
que se referem, mas não do lado esquerdo. Para conseguir este efeito,
adicione índices e/ou expoentes a um bloco vazio posicionado antes do
objeto:
% O ambiente xalignat* é normalmente utilizado para escrever expressões
% matemáticas multilinhas com vários pontos de alinhamento. Será detalhado
% na próxima seção. Neste caso, está sendo usado de um modo não
% convencional, pois se trata de uma expressão só com uma linha. O ambiente
% xalignat* está sendo empregado aqui para espaçar igualmente os 6 ítens
% da expressão ao longo da linha de texto.
\begin{xalignat*}{3}
    &w^2 &     &w_i &   {}_z&w \\
{}^*&w   & {}_P&w^Q & {}^A_B&w^C_D
\end{xalignat*}

\section{Equações}
\label{Sec:equacoes}

As equações são delimitadas por \verb|\begin{equation}| e
\verb|\end{equation}|. Devem ser identificadas por um \verb|\label|
para permitir referências futuras:
% Nesta equação são utilizados delimitadores. Não se pode usar um
% delimitador direito sem o esquerdo correspondente, mas os delimitadores
% não precisam ser do mesmo tipo (posso abrir com chave e fechar com
% colchete, por exemplo). Existe o delimitador . que é um delimitador
% vazio. Para colocar uma barra vertical ao lado das expressões, colocamos
% um delimitador . à esquerda e um delimitador | à direita.
\begin{equation}
y = g(x) = g(x_{PO}) + \left.\frac{dg}{dx}\right|_{x=x_{PO}}
\frac{(x-x_{PO})}{1!} + \left.\frac{d^2g}{dx^2}\right|_{x=x_{PO}}
\frac{(x-x_{PO})^2}{2!} + \cdots
\label{Eq:Taylor}
\end{equation}

Devem-se evitar referências com expressões do tipo ``a equação acima''
e ``a próxima equação'', pois modificações no texto podem tornar a
referência inválida. Use sempre referências pelo rótulo
(\texttt{label}), como em ``a equação~\ref{Eq:Taylor}'', mesmo para
equações próximas.

Existem vários ambientes para escrever equações, como o \verb|cases|
para construir expressões condicionais:
\begin{equation}
f(x) = 1+\begin{cases}
0   & \text{se $x=0$}\\
1/x & \text{caso contrário}
\end{cases} + \begin{cases}
x/2             & \text{se $x$ é inteiro e par}\\
\frac{x+1}{2}   & \text{se $x$ é inteiro e ímpar}\\
\frac{x+0.5}{2} & \text{se $x$ não é inteiro}
\end{cases}
\end{equation}

\section{Expressões multilinhas}
\label{Sec:multilinhas}

O pacote \texttt{amstex} define vários ambientes para criar expressões
matemáticas que ocupam mais de uma linha. Existem versões dos
ambientes com e sem inclusão do número na equação, conforme indicado
na tabela~\ref{Tab:multilinhas}\footnotemark.
% A explicação sobre o comando \footnotemark está logo mais à frente
% no texto

\begin{table}[htbp]
\begin{center}
\newlength{\LL}
\settowidth{\LL}{Tipo de alinhamento}
\begin{tabular}{|>{\tt}l|>{\tt}l|l|} \hline
\multicolumn{2}{|c|}{PACOTE} &
\multicolumn{1}{c|}{\multirow{2}{\LL}{Tipo de alinhamento}}
\\ \cline{1-2}
\textrm{Com número} & \textrm{Sem número} &  \\ \hline
gather & gather* & sem alinhamento (só múltiplas linhas) \\
multiline & multline* & quebra de equação em várias linhas \\
align & align* & alinhamento em um único ponto \\
alignat & alignat* & alinhamento em vários pontos, no centro da linha\\
xalignat & xalignat* & vários pontos, ocupando toda a linha (com margens)\\
-- & xxalignat & vários pontos, ocupando toda a linha (sem margens)
\\ \hline
\end{tabular}
\end{center}
\caption{Os ambientes para geração de equações multilinhas}
\label{Tab:multilinhas}
\end{table}

Para os ambientes \texttt{alignat}, \texttt{xalignat} e
\texttt{xxalignat} existe um parâmetro obrigatório que é o número de
elementos em cada linha. Cada elemento tem um ponto de alinhamento com
os outros elementos da mesma coluna em outras linhas.  Cada elemento é
separado do próximo por um \texttt{\&}. Dentro de cada elemento, um
novo \texttt{\&} marca seu ponto de alinhamento, conforme o exemplo da
tabela \ref{Tab:exemplomultilinhas}, onde se vê o código fonte e o
resultado produzido.

% Este table não contém um tabular, mas sim uma frase composta por
% dois minipages. Maiores detalhes sobre tables, tabulars, etc. no
% capítulo seguinte.
\begin{table}[htbp] \begin{center}
\hrule
% O ambiente minipage cria uma micropágina com a dimensão especificada
% e que se comporta exatamente como a página real, porém com dimensões
% reduzidas. Ela pode ser incluída em praticamente todo outro ambiente
% e no meio de frases.
\begin{minipage}[c]{0.3\linewidth}
\tiny
% O ambiente verbatim põe na tela o texto exatamente como foi digitado.
% Muito útil para incluir código fonte, como neste caso.
\begin{verbatim}
\begin{xxalignat}{3}
&aaaa  &  mm&mm  &  cccc& \\
xxxx&  &  ii&ii  &  llll&
\end{xxalignat}
\end{verbatim}
\end{minipage}
% para uma minipage ficar à esquerda e a outra à direita vamos
% incluir entre elas dois espaços horizontais \hfill, que são espaços
% que "esticam" até ocupar a máxima largura possível.
\hfill
$\implica$
\hfill
\begin{minipage}[c]{0.3\linewidth}
\begin{xxalignat}{3}
% A primeira coluna alinha o início de um com o fim do outro
% A segunda coluna alinha os dois pelo meio
% A terceira coluna alinha os dois pelo fim
&aaaa  &  mm&mm  &  cccc& \\
xxxx&  &  ii&ii  &  llll&
\end{xxalignat}
\end{minipage}
\hrule
\caption{Exemplo de equação multilinha com vários pontos de alinhamento}
\label{Tab:exemplomultilinhas}
\end{center}\end{table}

Os ambientes da tabela~\ref{Tab:multilinhas} funcionam como um
ambiente \texttt{equation}: ocupam toda a linha e centralizam a
expressão.  Em algumas situações, entretanto, se deseja incluir um
sub-ambiente multilinhas dentro de uma expressão mais geral. Para
isto, o \texttt{amstex} fornece as opções listadas na
tabela~\ref{Tab:submultilinhas}\addtocounter{footnote}{-1}\footnotemark.
% Para inserir uma nota de rodapé, pode-se utilizar o comando \footnote,
% que já insere a marca e o texto. Em algumas situações, entretanto, é
% preciso utilizar um comando para a marca (\footnotemark) e outro para
% o texto (\footnotetext). Uma das situações onde isto é necessário é
% o caso deste exemplo, onde queremos que duas marcas se refiram ao
% mesmo texto.
% O comando \footnotemark incrementa o contador das marcas de rodapé,
% de modo que o primeiro \footnotemark imprimirá a marca 1, o segundo a
% marca 2, etc. Para contornar este incremento automático, nós
% decrementamos o contador de uma unidade antes da segunda chamada.

% Agora vai o texto da nota de rodapé. Ele é associado à marca do
% último \footnotemark. O comando \footnotetext não incrementa o
% contador de notas de rodapé.
\footnotetext{Nestas tabelas foram utilizadas extensões do ambiente
\texttt{tabular} fornecidas pelo pacote \texttt{tabularx}. Esta
extensões serão explicadas no capítulo \ref{Cap:figuras}}

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|>{\tt}l|l|} \hline
% Estes multicolumn's que abranjem uma única coluna são utilizados para
% mudar o tipo de alinhamento. Por default, a primeira coluna é alinhada
% à esquerda (l). Usando o multicolumn, consegue-se que apenas o elemento
% na linha em questão fique centralizado (c).
\multicolumn{1}{|c|}{PACOTE} &
\multicolumn{1}{c|}{Tipo de alinhamento}
\\ \hline
gathered & sem alinhamento (só múltiplas linhas) \\
aligned & alinhamento em um único ponto \\
alignedat & alinhamento em vários pontos
\\ \hline
\end{tabular}
\end{center}
\caption{Os ambientes para geração de trechos multilinhas em equações}
\label{Tab:submultilinhas}
\end{table}

A equação \ref{Eq:alinhamento} ilustra a utilização de ambientes
\texttt{aligned} inseridos dentro de um ambiente \texttt{alignat}.
Nos ambientes multilinhas numerados cada linha terá seu próprio número
e deverá receber seu próprio rótulo (\texttt{label}), exceto caso se
informe explicitamente que a linha não deverá ser numerada, usando o
comando \verb|\nonumber|.

\begin{alignat}{3}
% Primeira linha do alignat (não numerada)
% Primeiro elemento do alignat (inclui um aligned) - alinha no fim
\left\{\begin{aligned} % Alinha no sinal de =
\dot{\mathbf{x}}(t) &= \mathsf{A}\mathbf{x}(t)+\mathsf{B}\mathbf{u}(t) \\
\mathbf{y} &= \mathsf{C}\mathbf{x}(t)+\mathsf{D}\mathbf{u}(t)
\end{aligned}\right.&
% Note que o aligned é envolvido por dois delimitadores diferentes:
% uma chave (\left\{) no lado esquerdo e um vazio (\right.) no direito
&
% Segundo elemento do alignat (só uma seta) - alinha no início
&\implica
&
% Terceiro elemento do alignat (inclui um aligned) - alinha no início
&\left\{\begin{aligned} % Alinha no sinal de =
s\mathbf{X}(s)-\mathbf{x}(0)&=\mathsf{A}\mathbf{X}(s)+\mathsf{B}\mathbf{U}(s)\\
\mathbf{Y}(s) &= \mathsf{C}\mathbf{X}(s)+\mathsf{D}\mathbf{U}(s)
\end{aligned}\right.\implicafim
\nonumber
\\
% Segunda linha do alignat (numerada)
% Primeiro elemento do alignat (inclui um aligned) - alinha no fim
\left\{\begin{aligned} % Alinha no sinal de =
\mathbf{X}(s) &= \Phi(s)\mathbf{x}(0) + \Phi(s)\mathsf{B}\mathbf{U}(s) \\
\mathbf{Y}(s) &= \mathsf{C}\mathbf{X}(s)+\mathsf{D}\mathbf{U}(s)
\end{aligned}\right.&
&
% Segundo elemento do alignat - alinha no início
&\quad \text{onde} \quad
&
% Terceiro elemento do alignat - alinha no início
&\Phi(s) = (s\mathsf{I}-\mathsf{A})^{-1}
\label{Eq:alinhamento}
\end{alignat}


\section{Figuras, tabelas e gráficos}
\label{Cap:figuras}

Uma das maiores dificuldades na edição de textos de qualidade é o
posicionamento dos elementos gráficos: figuras, gráficos e
tabelas. Como estes elementos muitas vezes são grandes, aparece o
dilema sobre o que fazer quando uma quebra de página deveria acontecer
no meio do elemento. Há duas possibilidades:
\begin{enumerate}
\item O autor informa exatamente onde o elemento gráfico deve ficar no
texto, evitando que quebras de páginas aconteçam no meio de um
elemento. O problema com esta abordagem é que todo o trabalho de
posicionamento pode ser perdido caso se inclua ou se exclua algum
texto ou elemento.
\item O editor de texto posiciona os elementos gráficos de forma a não
deixar espaços em branco nas páginas. Estes elementos que podem ser
posicionados pelo editor são conhecidos como \emph{elementos
flutuantes}. O problema com esta abordagem é que o posicionamento
adotado pode não corresponder às expectativas do autor.
\end{enumerate}

O \LaTeX\ oferece as duas possibilidades de posicionamento. Este
capítulo apresenta exemplos de inclusão de elementos gráficos no
texto, bem como algumas ferramentas externas ao \LaTeX\ que podem ser
utilizadas para gerá-los.

\section{Elementos flutuantes}
\label{Sec:flutuantes}

Para caracterizar uma parte do texto como sendo flutuante, ela deve ser
delimitada por \verb|\begin{figure}| e \verb|\end{figure}| ou por
\verb|\begin{table}| e \verb|\end{table}|. Apesar do que os nomes
sugerem, nada obriga que o ambiente \texttt{figure} seja usado para
delimitar figuras ou que o ambiente \texttt{table} seja usado para
delimitar tabelas, embora esta seja a escolha quase sempre
adotada. Estes dois ambientes são praticamente equivalentes, com as
seguintes diferenças:
\begin{itemize}
\item os dois ambientes usam contadores diferentes para numerar os
elementos flutuantes;
\item os ambientes \texttt{figure} serão incluídos na
\texttt{listoffigures}, enquanto os ambientes \texttt{table} serão
incluídos na \texttt{listoftables};
\item as legendas (\texttt{caption}'s) dos ambientes \texttt{figure}
serão precedidas da palavra ``Figura \dots'', enquanto as legendas dos
ambientes \texttt{table} serão precedidas da palavra ``Tabela \dots''.
Estas duas palavras podem ser alteradas pelo autor.
\end{itemize}
Para ilustrar o fato de que estes ambientes podem conter virtualmente
qualquer coisa, a figura~\ref{Fig:textoflutuante} contém um texto que
foi tornado flutuante por ser incluído em um ambiente \texttt{figure}
e as tabelas \ref{Tab:equacaoflutuante} e \ref{Tab:equacaoflutuante2}
contêm expressões matemáticas flutuantes, incluídas em um ambiente
\texttt{table}. A tabela (\texttt{table}) \ref{Tab:submultilinhas} na
página \pageref{Tab:submultilinhas} também não contém uma tabela no
sentido estrito do termo, mas sim uma linha de texto formada por duas
\texttt{minipage}'s separadas por um espaço horizontal. A primeira
\texttt{minipage} contém um trecho de código fonte e a segunda, o
resultado produzido (uma expressão matemática multialinhada).

\begin{figure}[tbp]
\caption{Trecho de \emph{Os Lusíadas}, de Luis de Camões}
\label{Fig:textoflutuante}
% hrule - linha horizontal
\hrule
% As minipage's são muito úteis para se colocar duas coisas na mesma linha
\begin{minipage}{0.45\linewidth}
% flushleft - alinha à esquerda
\begin{flushleft}
As armas e os barões assinalados\\
Que da ocidental praia lusitana\\
Por mares nunca dantes navegados\\
Passaram ainda além da Trapobana\\
Em perigos e guerras esforçados\\
Mais do que prometia a força humana\\
Entre gente remota edificaram\\
Novo reino, que tanto sublimaram
\end{flushleft}
\end{minipage}
\hfill
\begin{minipage}{0.45\linewidth}
% flushright - alinha à direita
\begin{flushright}
E também as memórias gloriosas\\
Daqueles reis que foram dilatando\\
A Fé, o Império, as terras viciosas\\
De África e Ásia andaram devastando,\\
E aqueles que por obras valerosas\\
Se vão da lei da morte libertando:\\
Cantando espalharei por toda parte,\\
Se a tanto me ajudar o engenho e arte.
\end{flushright}
\end{minipage}
\hrule
\end{figure}

\begin{table}[bp]
% As minipage's são muito úteis para se colocar duas coisas na mesma linha
\begin{minipage}[b]{0.45\linewidth}
\begin{center}
\[
ax^2 + bx + c = 0
\]
\end{center}
\caption{Equação de segundo grau}
\label{Tab:equacaoflutuante}
\end{minipage}
\hfill
\begin{minipage}[b]{0.50\linewidth}
\begin{center}
\[
x = \frac{-b\pm\sqrt{b^2-4ac}}{2a}
\]
\end{center}
\caption{Raízes da equação da tabela~\ref{Tab:equacaoflutuante}}
\label{Tab:equacaoflutuante2}
\end{minipage}
\end{table}

É importante ressaltar que o que é numerado é o \texttt{caption} e não
a \texttt{figure} ou a \texttt{table}. Portanto, o \texttt{label} deve
ser colocado sempre após o \texttt{caption} ao qual ele se
refere. Conforme ilustram as tabelas \ref{Tab:equacaoflutuante} e
\ref{Tab:equacaoflutuante2}, uma mesma \texttt{figure} ou
\texttt{table} pode ter mais de um ou nenhum \texttt{caption}.
O \texttt{caption} pode ser colocado antes do conteúdo flutuante, como
na figura \ref{Fig:textoflutuante}, ou depois, como nas tabelas
\ref{Tab:equacaoflutuante} e \ref{Tab:equacaoflutuante2}. Nos
documentos do PPgEE, o padrão é sempre posicionar o \texttt{caption}
abaixo das figuras e das tabelas.

\subsection{Posicionamento dos elementos flutuantes}
\label{Sec:posicionamento}

Em cada \verb|\begin{figure}| ou \verb|\begin{table}| pode-se incluir
um parâmetro opcional com as opções de posicionamento para este
elemento flutuante. Parâmetros adicionais de comandos \LaTeX\ são
sempre fornecidos entre colchetes \texttt{[]}, enquanto os parâmetros
obrigatórios aparecem entre chaves \verb|{}|. As opções disponíveis
incluem as seguintes:
\begin{itemize}
\item[\tt h] O elemento pode ser posicionado na mesma posição em que ele
aparece no código fonte do texto.
\item[\tt t] O elemento pode ser posicionado no topo de uma página.
\item[\tt b] O elemento pode ser posicionado no fim de uma página.
\item[\tt p] O elemento pode ser incluído em uma página formada só por
flutuantes.
\item[\tt !] Normalmente o \LaTeX\ faz algumas considerações de ordem
estética no posicionamento dos flutuantes, o que às vezes faz com que
alguns elementos sejam posicionados muito longe de onde são citados,
principalmente se você não incluir a opção \texttt{p}. Para fazer com
que as considerações estéticas não sejam levadas em conta para um dado
elemento, inclua a opção \texttt{!}.
\end{itemize}

\section{Tabelas em \LaTeX}
\label{Sec:tabelas}

Tabelas são construídas com comandos próprios do \LaTeX, notadamente o
ambiente \texttt{tabular}. Nada obriga a que o ambiente
\texttt{tabular} esteja sempre posicionado em um elemento
flutuante. Se você quiser impor que uma tabela fique obrigatoriamente
em uma determinada posição do texto, basta não colocar o
\texttt{tabular} dentro de um \texttt{table}. Tabelas podem até ser
incluídas no meio de uma frase.  Por exemplo, eu posso dizer que se um
jogo da velha está na configuração \textsf{\tiny\begin{tabular}{c|c|c}
x & & x \\ \hline & & o \\ \hline x & o & \end{tabular}} e se o
jogador ``\textsf{x}'' sabe jogar, então o jogador ``\textsf{o}'' irá
perder, independentemente da jogada que faça.

O ambiente \texttt{tabular} tem um parâmetro obrigatório que indica o
número de colunas da tabela e o posicionamento dos objetos em cada
coluna. Por exemplo, uma tabela criada com \verb|\begin{tabular}{lcr}|
terá três colunas; o texto será alinhado à esquerda na primeira
coluna, centralizado na segunda e alinhado à direita na
terceira. Podem ser incluídos objetos que ocupam mais de uma linha
(comando \texttt{multirow}) ou mais de uma coluna (comando
\texttt{multicolumn}). Neste último caso, também é possível mudar o
alinhamento do texto. Exemplos podem ser vistos nas tabelas
\ref{Tab:multilinhas} e \ref{Tab:submultilinhas}, na
página~\pageref{Tab:multilinhas}.

Com o pacote \texttt{tabularx}, além das opções normais de
posicionamento de colunas (\texttt{lcr}), pode-se incluir
automaticamente um texto qualquer antes de cada elemento da coluna
(\verb|>{}|). Este recurso foi utilizado nas tabelas
\ref{Tab:multilinhas} e \ref{Tab:submultilinhas} para fazer
com que todos os textos de algumas colunas fossem automaticamente
escritos na fonte \texttt{tt}. Além disso, podem-se criar colunas de
largura fixa e/ou de largura que se ajustam para que a tabela ocupe
toda a largura desejada, além do estilo tradicional de coluna que
assume a largura suficiente para conter seus elementos. Exemplos de
colunas com diferentes larguras e alinhamentos podem ser vistos na
tabela \ref{Tab:larguracolunas}.

\begin{table}[htbp]
\begin{tabularx}{\linewidth}{|p{3cm}|X|l|} \hline
COLUNA p & COLUNA X & COLUNA l \\ \hline
Largura fixa (não depende do conteúdo) &
Expandível &
Ajustável \\ \hline
Alinhada no topo &
Alinhada à esquerda &
Alinhada à esquerda \\ \hline
\end{tabularx}
\\[0.5cm]
\begin{tabularx}{\linewidth}{|b{3cm}|C|r|} \hline
COLUNA b & COLUNA C (ver \texttt{comandos.tex}) & COLUNA r \\ \hline
Largura fixa (não depende do conteúdo) &
Expandível &
Ajustável \\ \hline
Alinhada na base &
Centralizada &
Alinhada à direita \\ \hline
\end{tabularx} 
\caption{Tabelas com colunas de diferentes larguras e alinhamentos}
\label{Tab:larguracolunas}
\end{table}

\section{Figuras em \LaTeX}
\label{Sec:figuras}

As figuras (imagens, desenhos, gráficos, etc.) devem ser produzidas
por ferramentas externas ao \LaTeX, salvas em um arquivo e inseridas
no texto usando o comando \texttt{includegraphics}. Da mesma forma
que as tabelas, as figuras podem ser flutuantes, caso sejam
inseridas dentro de um ambiente \texttt{figure}, ou ter uma posição
fixa no texto (como aqui: \includegraphics{figuras/eu}).

O formato em que você deve salvar os arquivos das figuras para que
possa incluí-las no texto depende de como você pretende compilar
o código fonte:
\begin{itemize}
\item se o texto vai ser compilado com \texttt{latex}, todos os
arquivos devem estar no formato EPS (\emph{Encapsulated PostScipt});
\item se o texto vai ser compilado com \texttt{pdflatex}, os
arquivos devem estar nos formatos PDF ou JPEG (outros formatos são
aceitos, mas estes são os recomendáveis).
\end{itemize}
É aconselhável que você não inclua a terminação no nome do arquivo que
é parâmetro para o comando \texttt{includegraphics}. Isto porque, de
acordo com a forma como o texto está sendo compilado, o \LaTeX\
acrescenta a terminação adequada. Por exemplo, caso seu texto inclua o
comando \verb|\includegraphics{eu}|, o \LaTeX\ procurará o arquivo
\texttt{eu.eps} caso esteja sendo chamado via \texttt{latex} ou um dos
arquivos \texttt{eu.pdf} ou \texttt{eu.jpg} caso esteja sendo chamado
via \texttt{pdflatex}.

As figuras podem ser divididas em dois grandes grupos:
\begin{itemize}
\item As imagens e fotos, que normalmente correspondem a visões reais
do mundo e são obtidas por câmeras digitais ou
assemelhados. Caracterizam-se por conterem grandes quantidades de
nuances, texturas e cores.
\item As figuras sintéticas, normalmente produzidas utilizando
\emph{softwares} dedicados. Geralmente contêm figuras geométricas
(linhas, quadrados, etc.), textos e poucas cores e texturas. Neste
grupo, para efeito de discussão das ferramentas de produção, podem-se
identificar duas categorias:
\begin{itemize}
\item Os desenhos e esquemas: diagramas de blocos, organogramas e
fluxogramas, representações esquemáticas, etc.
\item Os gráficos: representações gráficas de valores ou funções
matemáticas.
\end{itemize}
\end{itemize}

\subsection{Imagens e fotos}
\label{Sec:imagens}

As imagens e fotos normalmente só podem ser armazenadas em formatos
que representam cada \emph{pixel} da imagem separadamente,
eventualmente com algum tipo de compressão. Os formatos JPEG, GIF,
TIF, PNM (PBM, PGM ou PPM), BMP (Bitmap) e PNG, entre outros, são
todos desta categoria.  Se sua figura está em algum destes formatos,
você deve convertê-la para EPS (se usar \texttt{latex}) ou para JPEG
(se usar \texttt{pdflatex}) para poder incluí-la no documento \LaTeX.

A quase totalidade dos \emph{softwares} de visualização de imagens
permite salvá-las em múltiplos formatos, geralmente incluindo JPEG e
EPS. No Unix, você dispõe ainda de vários programas para fazer a
conversão em comandos de linha: \texttt{jpegtopnm},
\texttt{pnmtojpeg}, \texttt{pnmtops}, \texttt{gif2ps},
\texttt{giftopnm}, \texttt{tiff2ps}, \texttt{tifftopnm},
\texttt{bmptopnm} e \texttt{pngtopnm}, entre outros.

A figura \ref{Fig:belmonte} mostra um exemplo de inclusão de uma
imagem no texto \LaTeX.

\begin{figure}[htbp!] \begin{center}
% fbox faz uma borda ao redor do seu argumento
\fbox{\includegraphics[width=0.75\linewidth]{figuras/belmonte}}
\caption{Exemplo de imagem real}
\label{Fig:belmonte}
\end{center} \end{figure}

\subsection{Figuras sintéticas}
\label{Sec:figsinteticas}

As figuras sintéticas podem ser armazenadas em formato
\emph{pixel}-a-\emph{pixel}, como se fossem uma imagem, ou em
formato vetorial. No formato vetorial as primitivas que formam a
figura (linhas, textos, etc.) são descritas pelos parâmetros que as
caracterizam (ponto de início e fim, \emph{string} e posição do texto,
etc.). As figuras em formato vetorial são mais adequadas pois
usualmente correspondem a arquivos menores e a qualidade da imagem
não sofre perdas ao se aumentar ou diminuir o tamanho da figura.

Para inclusão no \LaTeX, os formatos PDF e EPS são os únicos que podem
representar figuras no formato vetorial. Nem toda figura salva nestes
formatos, entretanto, é necessariamente vetorial, pois tanto o PDF
quanto o EPS podem representar tanto figuras em formato
\emph{pixel}-a-\emph{pixel} quanto figuras em formato vetorial. Para
que sua figura seja vetorial, é necessário que o \emph{software} que a
gerou tenha a capacidade de produzi-las.

Para demonstrar a melhor qualidade das figuras em formato vetorial,
nas figuras \ref{Fig:bigvetorial} e \ref{Fig:bigbitmap} se mostra em
tamanho natural um mesmo diagrama nos formatos vetorial e de
\emph{pixels}. Nas figuras \ref{Fig:bigvetorialreduzida} e
\ref{Fig:bigbitmapreduzida} estas mesmas figuras são apresentadas
com uma redução de 50\%, utilizando o parâmetro \texttt{scale} do
\texttt{includegraphics}. Já nas figuras \ref{Fig:smallvetorial} e
\ref{Fig:smallbitmap} o diagrama original foi reduzido, de forma que
seu tamanho natural é menor. Nas figuras
\ref{Fig:smallvetorialampliada} e \ref{Fig:smallbitmapampliada} 
este diagrama pequeno está aumentado de um fator arbitrário, calculado
pelo \texttt{includegraphics} para que a imagem ocupe toda a largura
da linha.

\begin{figure}[htbp!] \begin{center}
\includegraphics{figuras/bigvetorial}
\caption{Figura vetorial grande em tamanho natural}
\vspace{6mm}
\label{Fig:bigvetorial}
\includegraphics{figuras/bigbitmap}
\caption{Figura \emph{pixel}-a-\emph{pixel} grande em tamanho natural}
\label{Fig:bigbitmap}
\vspace{6mm}
\includegraphics[scale=0.5]{figuras/bigvetorial}
\caption{Figura vetorial grande em tamanho reduzido}
\label{Fig:bigvetorialreduzida}
\vspace{6mm}
\includegraphics[scale=0.5]{figuras/bigbitmap}
\caption{Figura \emph{pixel}-a-\emph{pixel} grande em tamanho reduzido}
\label{Fig:bigbitmapreduzida}
\end{center} \end{figure}

\begin{figure}[htbp!] \begin{center}
\includegraphics{figuras/smallvetorial}
\caption{Figura vetorial pequena em tamanho natural}
\label{Fig:smallvetorial}
\vspace{6mm}
\includegraphics{figuras/smallbitmap}
\caption{Figura \emph{pixel}-a-\emph{pixel} pequena em tamanho natural}
\label{Fig:smallbitmap}
\vspace{6mm}
\includegraphics[width=\linewidth]{figuras/smallvetorial}
\caption{Figura vetorial pequena em tamanho ampliado}
\label{Fig:smallvetorialampliada}
\vspace{6mm}
\includegraphics[width=\linewidth]{figuras/smallbitmap}
\caption{Figura \emph{pixel}-a-\emph{pixel} pequena em tamanho ampliado}
\label{Fig:smallbitmapampliada}
\end{center} \end{figure}

Nota-se que no formato vetorial as
linhas mantêm a espessura mesmo quando se fazem
ampliações ou reduções. Já no formato de \emph{pixels}
as linhas ficam mais claras (cinzas, ao invés de pretas) após as
reduções e mais grossas após as ampliações, além de uma perda geral
de definição da imagem.

\section{Ferramentas para desenhos e esquemas}
\label{Sec:desenhos}

Existem diversas ferramentas para fazer desenhos, mas muitas delas
apenas salvam a figura gerada em formatos \emph{pixel}-a-\emph{pixel}.
No Unix, pode-se utilizar o \texttt{xfig}, que exporta imagens em
muitos formatos, inclusive nos vetoriais (PDF e EPS). Os diagramas das
figuras \ref{Fig:bigvetorial} a \ref{Fig:smallbitmapampliada} foram
desenhados e exportados no \texttt{xfig}. O arquivo fonte
correspondente é o \texttt{diagrama.fig}, no diretório
\texttt{figuras}.

A possibilidade de salvar figuras em modo vetorial impõe que alguns
recursos para desenho de imagens não sejam oferecidos. Um deles é o
desenho a mão-livre, já que seria impossível descrever a curva obtida
em termos de figuras geométricas básicas. Outro recurso inexistente é
o de preencher uma região com uma determinada cor. Esta última
limitação muitas vezes pode ser contornada utilizando-se a noção de
profundidade.  Por exemplo, para desenhar uma figura vazado e
preenchido de azul, pode-se desenhar a figura externa preenchido de
azul sobre o qual se desenha a figura interna preenchido de branco,
como mostram os exemplos da figura~\ref{Fig:circulo}.

\begin{figure}[htb] \begin{center}
\includegraphics{figuras/circulo}
\caption{Preenchimento de figuras utilizando diferentes profundidades}
\label{Fig:circulo}
\end{center} \end{figure}

A noção de profundidade no \texttt{xfig} foi exaustivamente utilizada
para desenhar os símbolos da UFRN e do PPgEE que podem ser vistos na
página de rosto deste documento. Os arquivos \texttt{xfig}
correspondentes são \texttt{UFRN.fig} e \texttt{PPgEE.fig}. Ela também
pode ser utilizada para mesclar imagens com figuras sintéticas, como
na figura \ref{Fig:pensador} (veja arquivo \texttt{figuras/pensador.fig}).

\begin{figure}[htb] \begin{center}
\includegraphics{figuras/pensador}
\caption{Imagem mesclada com elementos sintéticos}
\label{Fig:pensador}
\end{center} \end{figure}

Outra possibilidade oferecida pelo \texttt{xfig} é a inclusão de comandos
\LaTeX\ dentro da figura. Para utilizar este recurso,
marque no \texttt{xfig} os textos que devem ser interpretados como
comandos \LaTeX\ com o \emph{flag} \texttt{special} e exporte a figura
no modo \emph{Combinado PS/Latex} ou \emph{Combinado PDF/Latex}. Veja
um exemplo na figura \ref{Fig:combinado}; note que o arquivo é incluído com
\verb|\input{}| e não com \verb|\includegraphics{}|.

% Note que foi redefinido um comando aqui no texto para ser incluído
% na figura. Isto é para evitar digitação de expressões LaTeX muito
% grandes dentro do xfig
\newcommand{\formulagrande}{$\frac{G_3G_4}{1-G_3G_4H_1}$}
\begin{figure}[htb] \begin{center}
\input{figuras/combinado.pstex_t} % Se usar latex
%\input{figuras/combinado.pdftex_t} % Se usar pdflatex
\caption{Figura incluindo comandos \LaTeX}
\label{Fig:combinado}
\end{center} \end{figure}

\section{Ferramentas para gráficos}
\label{Sec:graficos}

Gráficos devem ser gerados com aplicativos capazes de exportar o
resultado nos formatos EPS ou PDF, preferencialmente em formato
vetorial. Os conhecidos programas \emph{Scilab} e \emph{Matlab} têm
esta capacidade. Se você deseja algo mais simples, a ferramenta
\textit{GNUplot} é uma das mais utilizadas no Unix para a geração de
gráficos de funções matemáticas.

Uma vez gerados, gráficos são inseridos no texto tal como figuras. A
figura~\ref{fig:grafico} apresenta um gráfico gerado através do
comando de linha \texttt{gnuplot grafico.gnuplot}. Este arquivo
\texttt{grafico.gnuplot}, que contém uma série de comandos do
\textit{GNUplot}, está no diretório \texttt{figuras}.

\begin{figure}[htbp]
\centering 
\includegraphics{figuras/grafico}
\caption{Exemplo de gráfico de funções matemáticas}
\label{fig:grafico}
\end{figure}

\section{Conclusões}

Ferramentas de desenho capazes de gerar a saída em formato vetorial
são mais difíceis de usar e parecem ser dotadas de menos recursos do
que outras que só exportam seus resultados como imagens de
\emph{pixels}.  Isto se deve à necessidade de descrever todos os
elementos da imagem sob a forma de primitivas parametrizáveis para
permitir que elas sejam escaláveis à vontade e exportáveis para
qualquer formato desejado.

Entretanto, a qualidade visual das figuras obtidas e a sua
reusabilidade é muito maior. A comparação é aproximadamente a mesma
que a entre textos produzidos em \LaTeX\ e em editores gráficos. Desta
forma, na medida do possível, tente conjugar a escrita do documento
\LaTeX\ com a utilização de alguma ferramenta de desenho vetorial.

